# Редактировать данные прокси-сервера

Чтобы изменить данные сервера, отправьте AJAX-запрос из консоли браузера, авторизовавшись под именем заказчика.

## Запрос {#request}

```json
$.ajax({
      url: '/api/new/requester/proxy/proxy/{id}',
      method: 'PATCH',
      contentType: 'application/json',
      data: JSON.stringify({
        "params": {
          "accessRights": "ASSIGNMENT_PRIVATE",
          "type": "HTTP",
          "additionalHeaders": {},
          "additionalQueryArgs": {},
          "baseUrl": "example.com/some-path"
        },
        "name": "test-proxy"
      })
});
```


Параметр
 | 
Описание

----- | -----
**id** | **string | обязательный**<br/><br/>Идентификатор сервера заказчика.
**accessRights** | **string | обязательный**<br/><br/>Уровень доступа к файлам, размещенным на сервере заказчика. Возможные значения:<br/><br/>- ASSIGNMENT_PRIVATE — доступ имеют только исполнители в задании которых присутствует ссылка на сервер. Подходит для контента заданий.<br/>    <br/>    #### Пример<br/>    <br/>    В Толоке выполняется вызов: `toloka.yandex.com/api/proxy/test-proxy/test-path`.<br/>    <br/>    Если задание при этом содержит входное поле с типом aдрес (url) или cтрока (string), и оно имеет значение:<br/>    - `proxy/test-proxy/example-id`,<br/>    <br/>    - `test-proxy/example-id`,<br/>    <br/>    - `example-id`,<br/>    <br/>    запрос будет проксирован на сервер заказчика.<br/>    <br/>    Если в задании нет поля с таким значением, запрос проксирован не будет.<br/>    <br/>- PRIVATE — доступ имеют только исполнители, которые выполняют задание соответствующего заказчика (владельца сервера). При этом не выполняется проверка на наличие в задании ссылки на сервер). Подходит для общих действий в заданиях.<br/>    <br/>- PUBLIC — доступ имеют все исполнители Толоки. Подходит для файлов в инструкциях.
**type** | **string | обязательный**<br/><br/>Протокол передачи данных. Возможное значение: `HTTP`.
**baseUrl** | **string | обязательный**<br/><br/>URL, по которому находится сервер заказчика.<br/><br/>Например, сервер с [именем](#name)<q>test-proxy</q> размещен по URL `example.com/some-path`.<br/><br/>В этом случае при вызове в Толоке HTTP-метода по URL `toloka.yandex.com/api/proxy/test-proxy/test-path`, запрос к серверу заказчика будет сделан по URL `example.com/some-path/test-path`.<br/><br/>Если вызов выполнен в рамках шаблона, к URL дополнительно будет добавлен <br/>{% cut "assignmentId" %}<br/><br/>**assignment_id** | **string**<br/><br/>Идентификатор выдачи страницы заданий.<br/><br/>{% endcut %}<br/><br/>. Таким образом на сервер заказчика также будет передана информация в рамках какого задания был сделан запрос. Например: `example.com/some-path/test-path?assignmentId=12831298712937213`.
**name** | **string | обязательный**<br/><br/>Название сервера заказчика. Будет включено в URL запроса. Допустимые символы в названии: латинские буквы, цифры, дефис «-».<br/><br/>Должно быть уникально в рамках системы.<br/><br/>Например, сервер с именем <q>test-proxy</q> будет доступен в Толоке по URL: `toloka.yandex.com/api/proxy/test-proxy`.
**additionalHeaders[]** | **array of strings**<br/><br/>Дополнительные заголовки, которые будут переданы в запросе на сервер заказчика. Например: ``` "additionalHeaders":{"Authorization":["Basic       --//--TOKEN--//--"]} ```
**additionalQueryArgs[]** | **array of strings**<br/><br/>Дополнительные параметры, которые будут переданы в запросе на сервер заказчика. Например:<br/>``` "additionalQueryArgs":{"test-arg":["12345"]} ```


## Ответ {#response}

Содержит параметры сервера (обновленные и не обновленные) в формате JSON.

