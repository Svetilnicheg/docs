# Скачивание результатов

{% note warning %}

Скачать результаты можно только из пакета данных в статусе **Размечен**.

{% endnote %}

## Скачать все результаты {#download-all}

1. Откройте Ready-to-go-проект и перейдите в нужный пакет данных.
1. Справа нажмите кнопку **Скачать результаты**.
1. Дождитесь окончания выгрузки.

## Посмотреть результаты по элементам {#objects}

1. Откройте Ready-to-go-проект и перейдите в нужный пакет данных. Вы увидите список размеченных элементов.
1. Выберите элемент и нажмите на него. Вам откроется блок результатов разметки в JSON.
1. Справа нажмите **Скопировать**. Это добавит размеченный блок в буфер обмена.

## Анализ результатов {#analysis}

{% note info %}

В готовых проектах доступна только автоматическая приемка. Возможность отклонить ответы вручную не предусмотрена.

{% endnote %}

По итогам разметки вы получите TSV-файл с ответами. Поле `CONFIDENCE` — уверенность в ответе. В нашем случае это вероятность того, что названный ответ правильный.

{% cut "Пример" %}

Элементы размечали три исполнителя с разным значением уровнем качества работы: первый исполнитель работает чуть выше среднего, второй — хороший исполнитель, третий — отличный.

На первое задание все исполнители ответили **OK**. В этом случае мы уверены на 100%, что **ОК** — это правильный ответ.

На второе задание первый и третий исполнители ответили **OK**, а второй — **BAD**. В этом случае мы сравним уровни качества работы исполнителей и на основе этого посчитаем уверенность в ответе.

{% endcut %}

{% cut "Как вычисляется" %}

Термины:

- ![](../_images/qi.svg) — точность исполнителя;
- ![](../_images/k.svg) — константа для сглаживания;
- ![](../_images/zj.svg) — наиболее популярный ответ;
- ![](../_images/zx.svg) — вероятность того, что оценка правильная.

Точность исполнителя ![](../_images/qi.svg) считаем по формуле:

![](../_images/q-formula.svg),

где:

![](../_images/k.svg) — константа для сглаживания (начиная от 0,5) при недостаточном количестве ответов на контрольные задания.

При наличии нескольких оценок для задания высчитывается наиболее популярный ответ — для каждого варианта ответа суммируем ![](../_images/qi.svg) исполнителей, выбравших его. Ответ с большей суммой считаем более правильным. Назовем эту оценку ![](../_images/zj.svg).

[По теореме Байеса](https://ru.wikipedia.org/wiki/Теорема_Байеса) считаем апостериорную вероятность того, что оценка ![](../_images/zj.svg) правильная.

В качестве априорного распределения оценок будет считать равномерное. Для оценки ![](../_images/zx.svg) априорная вероятность:

![](../_images/p-formula.svg),

где:

![](../_images/Y.svg) — количество вариантов ответов.

Далее считаем вероятность того, что оценка ![](../_images/zj.svg) правильная.

Если исполнитель ответил ![](../_images/zj.svg), то вероятность этого равна точности исполнителя ![](../_images/qi.svg). Если ответил иначе, то вероятность этого равна:

![](../_images/1-q.svg),

где:

![](../_images/1-q.svg) — оставшаяся вероятность.

Таким образом рассчитывается то, что вероятности ошибок равномерно распределены по оставшимся оценкам.

Взяв все ответы исполнителей и, например, вариант ![](../_images/zx.svg) , мы считаем вероятность того, что исполнители ответят таким образом, при условии, что правильным ответом был ![](../_images/zx.svg):

```go
func z_prob(x int) : float {
    d = 1.0
    for w[i]: workers
         if answers[w[i]] == z[x]
            d *= q[i]
         else
            d *= (1 - q[i])
    return d
}
```

Далее по теореме Байеса считаем вероятность того, что ответ ![](../_images/zj.svg) правильный:

```go
r = 0
for z[i]: answer_options
    r += z_prob(i) * (1 / Y)

eps = z_prob(j) * (1 / Y) / r
```

{% endcut %}

## Решение проблем {#troubleshooting}

{% cut "Почему я не могу скачать результаты?" %}

Кнопка **Скачать результаты** появляется только у пакетов данных в статусе **Размечен**. Дождитесь окончания разметки и вернитесь в пакет данных чуть позже.

{% endcut %}

{% cut "Как узнать, сколько времени ушло на разметку?" %}

Выберите нужный пакет данных. В блоке справа будет перечислена вся доступная статистика.

{% endcut %}

{% include [contact-support](_includes/contact-support.md) %}